Looks like what I'm doing here is very similar to https://www.anthropic.com/news/contextual-retrieval

Let llm pick context itself through tools.
